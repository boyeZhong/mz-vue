# vim 的操作

## vim的两种模式

1. 命令模式		esc
2. 编辑模式		i

:w   保存
:q   退出
:wq  保存并退出


# 安装 nginx

1. sudo yum install yum-utils

2. 新建 /etc/yum.repos.d/nginx.repo 文件。并复制下面内容进去

	```
	[nginx-stable]
	name=nginx stable repo
	baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
	gpgcheck=1
	enabled=1
	gpgkey=https://nginx.org/keys/nginx_signing.key

	[nginx-mainline]
	name=nginx mainline repo
	baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
	gpgcheck=1
	enabled=0
	gpgkey=https://nginx.org/keys/nginx_signing.key
	```

3. sudo yum-config-manager --enable nginx-mainline

4. sudo yum install nginx

5. nginx -v 校验是否安装成功

6. nginx 启动


# nginx html文件放在什么地方

	/usr/share/nginx/html


# 将mz-vue打包，打包生成的 dist 文件夹的内容 整个复制粘贴到 上面的路劲下。

	使用 ftp 工具


# 安装 nodejs

1. cd /usr/local
2. wget <url>
3. xz -d node-v10.15.1-linux-x64.tar.xz
3. tar -xvf node-v10.15.1-linux-x64.tar
4. rm -rf node-v10.15.1.tar.gz
5. mv node-v10.15.1 node  重命名
6. 配置环境变量（使node 和 npm 命令在整个linux上面都可以使用）

	- 配置环境变量(推荐)

		vim /etc/profile

		# 在文件结尾加入以下内容
		export PATH=$PATH:/usr/local/node/bin

		source /etc/profile

	- 配置软链接

	ln -s /usr/local/node/bin/node /usr/local/bin
	ln -s /usr/local/node/bin/npm /usr/local/bin
	ln -s /usr/local/node/bin/npx /usr/local/bin
7. 验证 命令可用

# 安装 yarn

1. curl --silent --location https://dl.yarnpkg.com/rpm/yarn.repo | sudo tee /etc/yum.repos.d/yarn.repo
2. yum install yarn

# 安装 pm2

> PM2是node进程管理工具，可以利用它来简化很多node应用管理的繁琐任务，如性能监控、自动重启、负载均衡等，而且使用非常简单。

## 安装
yarn global add pm2

## 重要命令
1. 启动
pm2 start <app.js>
2. 停止
pm2 stop app_name|app_id
3. 删除
pm2 delete app_name|app_id
4. 重启
pm2 restart app_name|app_id
5. 查看进程
pm2 list
6. 查看日志
pm2 logs app_name|app_id

# 配置nginx的反向代理。

1. 得要在服务器上线有个 node 服务。
	这个服务很简单。就去做一个中间层
    location /api {
        proxy_set_header  Host             $host;
        proxy_set_header  x-forwarded-for  $remote_addr;
        proxy_set_header  X-Real-IP        $remote_addr;
        proxy_set_pass http://129.28.199.175:3000;
    }

2. nginx 在配置 某个url 代理到  1中 node 服务
